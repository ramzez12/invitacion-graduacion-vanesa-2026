---
// CodigoVestimenta.astro
---
<section class="py-4 px-4">
  <div class="max-w-xl mx-auto text-center">
   
    <!-- üå∏ SEPARADOR SUPERIOR -->
    <div class="flex justify-center mb-8" id="separador-superior">
      <img
        src="/imagenes/Separador.png"
        alt="Separador decorativo"
        class="w-32 md:w-48 lg:w-56 h-auto object-contain"
      />
    </div>
    
    <!-- T√çTULO C√ìDIGO DE VESTIMENTA -->
    <div class="mb-4" id="titulo-vestimenta">
      <h2
        class="font-charm text-2xl md:text-3xl text-[#a27735] font-bold tracking-wide"
      >
        C√ìDIGO DE VESTIMENTA
      </h2>
    </div>
    
    <!-- üëî IMAGEN VESTIMENTA -->
    <div class="flex justify-center mb-4" id="imagen-vestimenta">
      <img
        src="/imagenes/Vestimenta.png"
        alt="C√≥digo de vestimenta"
        class="w-20 h-auto md:w-72 lg:w-80 object-contain"
      />
    </div>
    
    <!-- DESCRIPCI√ìN -->
    <div class="mb-3" id="descripcion-vestimenta">
      <p
        class="font-charm text-2xl md:text-3xl text-[#a27735] font-bold leading-relaxed"
      >
        Guapos y Divinas
      </p>
    </div>
    
    <!-- NOTA IMPORTANTE -->
    <div class="mb-2" id="nota-vestimenta">
      <p
        class="font-charm text-xl md:text-lg text-[#95303a] leading-relaxed"
      >
        Color rojo reservado para la quincea√±era
      </p>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
 
  gsap.registerPlugin(ScrollTrigger);
 
  if (typeof window !== "undefined") {
    document.addEventListener("DOMContentLoaded", () => {
      // Estado inicial
      gsap.set("#separador-superior", { opacity: 0, scale: 0.8 });
      gsap.set("#titulo-vestimenta", { opacity: 0, scale: 0.9 });
      gsap.set("#imagen-vestimenta", { opacity: 0, scale: 0.8 });
      gsap.set("#descripcion-vestimenta", { opacity: 0, scale: 0.9 });
      gsap.set("#nota-vestimenta", { opacity: 0, scale: 0.9 });
     
      // ‚ú® ANIMACI√ìN SIMULT√ÅNEA - TODO AL MISMO TIEMPO
      ScrollTrigger.create({
        trigger: "#separador-superior",
        start: "top 85%",
        end: "top 20%",
        onEnter: () => {
          const tl = gsap.timeline();
         
          // TODO aparece al mismo tiempo
          tl.to("#separador-superior, #titulo-vestimenta, #imagen-vestimenta, #descripcion-vestimenta, #nota-vestimenta", {
            opacity: 1,
            duration: 1,
            ease: "power2.out",
          })
          // Animaciones individuales (simult√°neas)
          .to("#separador-superior", {
            scale: 1,
            duration: 1,
            ease: "back.out(1.5)",
          }, "<")
          .to("#titulo-vestimenta, #descripcion-vestimenta, #nota-vestimenta", {
            scale: 1,
            duration: 1,
            ease: "back.out(1.2)",
          }, "<")
          .to("#imagen-vestimenta", {
            scale: 1,
            duration: 1,
            ease: "back.out(1.5)",
          }, "<");
        },
        onLeaveBack: () => {
          // Salida simult√°nea
          const tl = gsap.timeline();
          
          tl.to("#separador-superior, #titulo-vestimenta, #imagen-vestimenta, #descripcion-vestimenta, #nota-vestimenta", {
            opacity: 0,
            duration: 0.5,
            ease: "power2.in",
          })
          .to("#separador-superior", {
            scale: 0.8,
            duration: 0.5,
            ease: "power2.in",
          }, "<")
          .to("#titulo-vestimenta, #descripcion-vestimenta, #nota-vestimenta", {
            scale: 0.9,
            duration: 0.5,
            ease: "power2.in",
          }, "<")
          .to("#imagen-vestimenta", {
            scale: 0.8,
            duration: 0.5,
            ease: "power2.in",
          }, "<");
        },
      });
     
      console.log("üëî Secci√≥n de C√≥digo de Vestimenta inicializada");
    });
  }
</script>